<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="styles.css"
</head>

<body>
    <h1>C0debreaker</h1>
    <br><br>



<div class="leftColumn">
    <!--Input/output for encoding-->
    <form id="encodeButtonSpace">
        <input id="encodeInput" type="text" maxlength="200" placeholder="Insert text to encode here!" size="20" />
        <input type="button" value="Encode" class="button" id="encodeButton" onclick="binEncode()">
    </form>

    <br>
    Output:
    <br>

    <div class="outputArea">
        <p id="encodeOutput"> 
            <br><br>
        </p>
    </div>

    <!--Input/output for decoding-->
    <form id="decodeButtonSpace">
        <input id="decodeInput" type="text" maxlength="200" placeholder="Insert text to decode here!" size="20" />
        <input type="button" onclick="binDecode()" value="Decode" class="button" id="decodeButton"> </button>
    </form>

    <br>
    Output:
    <br>

    <div class="outputArea">
        <p id="decodeOutput">
        
            <br><br>
        </p>
    </div>
</div>


<div class="middleColumn">
    <!--Radio button for selecting a cipher-->
    <p>Please select a cipher to begin</p>
    <div style="text-align: left; padding-left: 180px;">
        <input type="radio" id="Binary" name="selectedCipher" value="Binary" onclick="binaryClicked()">
        <label for="Binary">Binary</label><br>
        <input type="radio" id="Hex" name="selectedCipher" value="Hex" onclick="hexClicked()">
        <label for="Hex">Hex</label><br>
        <input type="radio" id="Morse" name="selectedCipher" value="Morse" onclick="morseClicked()">
        <label for="Morse">Morse</label><br>
        <input type="radio" id="Caesar" name="selectedCipher" value="Caesar" onclick="caesarClicked()">
        <label for="Hex">Caesar</label><br>
        <input type="radio" id="Vigenere" name="selectedCipher" value="Vigenere" onclick="vigenereClicked()">
        <label for="Vigenere">Vigenere</label><br>
        <input type="radio" id="Affine" name="selectedCipher" value="Affine" onclick="affineClicked()">
        <label for="Affine">Affine</label><br>
    </div>

    <!--Binary, Hex, Morse, Caesar, Vigenere, Affine-->
</div>

<div class="rightColumn">
    <h2 id="cipherNamespace">
        Binary Cipher
    </h2>
    <p>
        Cipher description
    </p>
</div>

</body>

<script>
    //Functions for displaying cipher data
    function binaryClicked(){
        document.getElementById("cipherNamespace").innerHTML = "Binary Cipher";

        //Change encode button
        var x = document.getElementById("encodeButtonSpace");
        var button1 = document.createElement('input');
        button1.setAttribute("type", "button");
        button1.setAttribute("value", "Encode");
        button1.setAttribute("class", "button");
        button1.setAttribute("onclick", "binEncode()");

        document.getElementById("encodeButton").remove();
        button1.setAttribute("id", "encodeButton");
        x.appendChild(button1);

        //Change decode button
        var y = document.getElementById("decodeButtonSpace");
        var button2 = document.createElement('input');
        button2.setAttribute("type", "button");
        button2.setAttribute("value", "Decode");
        button2.setAttribute("class", "button");
        button2.setAttribute("onclick", "binDecode()");

        document.getElementById("decodeButton").remove();
        button2.setAttribute("id", "decodeButton");
        y.appendChild(button2);

        return;
    }

    function hexClicked(){
        document.getElementById("cipherNamespace").innerHTML = "Hex Cipher";

        //Change encode button
        var x = document.getElementById("encodeButtonSpace");
        var button1 = document.createElement('input');
        button1.setAttribute("type", "button");
        button1.setAttribute("value", "Encode");
        button1.setAttribute("class", "button");
        button1.setAttribute("onclick", "hexEncode()");

        document.getElementById("encodeButton").remove();
        button1.setAttribute("id", "encodeButton");
        x.appendChild(button1);

        //Change decode button
        var y = document.getElementById("decodeButtonSpace");
        var button2 = document.createElement('input');
        button2.setAttribute("type", "button");
        button2.setAttribute("value", "Decode");
        button2.setAttribute("class", "button");
        button2.setAttribute("onclick", "hexDecode()");

        document.getElementById("decodeButton").remove();
        button2.setAttribute("id", "decodeButton");
        y.appendChild(button2);

        return;
    }

    function morseClicked(){
        document.getElementById("cipherNamespace").innerHTML = "Morse Cipher";
        return;
    }

    function caesarClicked(){
        document.getElementById("cipherNamespace").innerHTML = "Caesar cipher";
        return;
    }

    function vigenereClicked(){
        document.getElementById("cipherNamespace").innerHTML = "Vigenere Cipher";
        return;
    }

    function affineClicked(){
        document.getElementById("cipherNamespace").innerHTML = "Affine Cipher";
        return;
    }


    function binDecode() {
        let binaryValue = String(document.querySelector("#decodeInput").value);
        let baseTenValue = 0;
        let place = 0;
        let output = document.querySelector("#decodeOutput");

        //iterate through the binary string backwards
        for (let i = binaryValue.length - 1; i >= 0; i--) {
            //store the bit being examined
            let currentBit = binaryValue.charAt(i);
            //make sure the bit is a 0 or 1
            if (currentBit !== "0" && currentBit !== "1") {
                output.innerHTML = "Incorrect input, please try again";
                return;
            } else if (currentBit === "1") {
                baseTenValue += Math.pow(2, place);
            }
            //increment the bit being examined
            place++;
        }

        try {
            output.innerHTML = String(baseTenValue);
        } catch (e) {
            output.innerHTML = "Incorrect input, please try again";
            return;
        }
    }

    function binEncode() {
        let baseTenValue = document.querySelector("#encodeInput").value;
        let value = 0;
        let output = document.querySelector("#encodeOutput");
        //make sure input is valid
        if (isNaN(parseInt(baseTenValue)) || parseInt(baseTenValue) < 0) {
            output.innerHTML = "Incorrect input, please try again";
            return;
        } else {
            value = parseInt(baseTenValue);
        }
        let binaryValue = "";
        let tempVal;
        let tempStr = "";

        //iteratively divide the input by 2
        while (value !== 0) {
            tempVal = value;
            value = Math.floor(value / 2);
            //decide if the bit added should be a 1 or a zero
            if ((value * 2) === tempVal) {
                tempStr = "0";
            } else {
                tempStr = "1";
            }
            //add the bit to the beginning of the string
            tempStr += binaryValue;
            binaryValue = tempStr;
        }

        output.innerHTML = binaryValue;
    }

    function hexEncode() {
        let input = document.querySelector("#encodeInput").value;
        let value = 0;
        let output = document.querySelector("#encodeOutput");
        //make sure input is valid
        if(isNaN(parseInt(input)) || parseInt(input) < 0) {
            output.innerHTML = "Incorrect input, please try again";
            return;
        } else {
            value = parseInt(input);
        }
        let hexValue = "";
        let tempVal;
        let tempStr = "";

        //iteratively divide the input by 16
        while (value !== 0) {
            tempVal = value;
            value = Math.floor(value / 16);
            //decide if the hex digit added should be a 0-9 or a-f
            if ((value * 16) === tempVal) {
                tempStr = "0";
            } else {
                let remainder = tempVal % 16;
                if (remainder < 10) {
                    tempStr = remainder.toString();
                } else {
                    tempStr = String.fromCharCode(87 + remainder);
                    tempStr = tempStr.toUpperCase();
                }
            }
            //add the hex digit to the beginning of the string
            tempStr += hexValue;
            hexValue = tempStr;
        }

        output.innerHTML = hexValue;
    }

    function hexDecode() {
        let input = document.querySelector("#decodeInput").value;
        let output = document.querySelector("#decodeOutput");
        let baseTenValue = 0;
        let place = 0;
        input = input.toString();
        input = input.toUpperCase();

        //iterate through the hex string backwards
        for (let i = input.length - 1; i >= 0; i--) {
            //store the hex digit being examined
            let currentDigit = input.charAt(i);
            //make sure the hex digit is a 0-9 or A-F
            if (currentDigit < "0" || (currentDigit > "9" && currentDigit < "A") || currentDigit > "F") {
                output.innerHTML = "Incorrect input, please try again";
                return;
            } else {
                let digitValue = 0;
                if (currentDigit < "A") {
                    digitValue = parseInt(currentDigit);
                } else {
                    digitValue = currentDigit.charCodeAt(0) - 55;
                }
            baseTenValue += digitValue * Math.pow(16, place);
         }
            //increment the hex digit being examined
            place++;
        }

        try {
            output.innerHTML = String(baseTenValue);
        } catch (e) {
            output.innerHTML = "Incorrect input, please try again";
            return;
        }
}
</script>

</html>